<!DOCTYPE html>
<html>
<head>
<meta name="viewport" 
   content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<!-- Zuora Public javascript library -->
<script type="text/javascript" 
   src="https://static.zuora.com/Resources/libs/hosted/1.1.0/zuora-min.js"/></script>
<script>
<!-- optional params in case prepopulation of certain fields is desired-->
var prepopulateFields = {
   creditCardAddress1:"123 Any Street",
   creditCardAddress2:"Suite #999",
   creditCardCountry:"USA",
   creditCardHolderName:"John Doe"
};
 
// Sample params for rendering iframe on the client side
var params = {
   tenantId:2001023,
   id:"8adccb057ee1e437017ee92e78c8202e", <!-- pageId-->
   token:"gbwcpbLI4E1AnK6HsINmTh4Z2jnJC2VG",
   signature:"ZbyUNPojHzanjuWR+vrOg79OCmMe2LRnRRnwQ9c12UPI8ZBXvfY4A3YM79x7yDW/0x7afD/w0WM6T7F4hDs8pxffkCllHkVt5FEN29pr84Kd/vE+K7bs3ZYI9Y18OmNNN6sMVmRxqN0y1wdBSIF9H1C881RoZ2WNkxRDY+1Jq0JlccZk1NGOdX7zoI19kJH9yeizeTdJ8eU9j56i0sBaOIiyfXrjoVBxG2WzoT0U0Kw0kp+plG5WbSTFARuA8RjYpgzmaKvTJu/9kgS4xDxYF7z84xhMy55aAsJpMYnRVIkXJLZXrzDSj84HLucJuFa4XEoozQfbgxnzroxYQgg1Sw==",
   style:"overlay",
   key:
    "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAg3dgMVqiigUkYHCJbR/p+9Dhf3wWzJemco+Wwkpa1dmLqaaJK00vUo3mnVqJo6oyCzKYVa3NCimV2Ivlcn7rxOHIFy4p82gliYHKKVQmaYfrVtxOqrxrTgcJ/ybRyBsAqAu6JrSQ8tLQ0dUsHl/1dFPyir7hsw5aZJMrPbpo4eMJYAJBiXbL9rwKP3dOpQlMyJnZnbOLMhEakDUbEo/jTctjDAj0AWJ8BzWAJVT5Jj7v8d+PLt/WRmwIMUOkDmqIBDCO7oTvylxG8+g9xJ7T2gTdlDoKw+sQygg1hupv+NUuFNTd7JzUv6jTXg/tok42+IwfdmlThnqcUjOTONlUcQIDAQAB",
   submitEnabled:"true", 
   locale:"fr_FR", 
   param_supportedTypes:"AmericanExpress,JCB,Visa,MasterCard,Discover,Dankort",
   url:"https://www.zuora.com/apps/PublicHostedPageLite.do",
   paymentGateway:"DefaultGateway" //payment gateway name
};

function callback(response) {
   if(response.success) {
      var redirectUrl = 
         "../thanks?refid="+response.refId+"&field_passthrough1="
         +response.field_passthrough1;
      window.location.replace(redirectUrl);
   } else {
      alert("errorcode="+response.errorCode + ", errorMessage="+response.errorMessage);
   }
}


        
function loadHostedPage() {
   Z.setEventHandler("onloadCallback", function() {
      // do something when HPM iframe is loaded.
      console.warn("HPM page is loaded.");
   });

   Z.render(
      params,
      prepopulateFields,
      callback
   );
}
</script>
</head>

<body onload="loadHostedPage();">
   <div id="zuora_payment" ></div>
</body>
